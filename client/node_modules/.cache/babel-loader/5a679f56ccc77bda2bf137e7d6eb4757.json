{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dea/Code/Projects/react_catfacts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dea/Code/Projects/react_catfacts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dea/Code/Projects/react_catfacts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import BlogCard from\"./Components/BlogCard\";import styles from\"./App.module.css\";import Footer from\"./Components/Footer\";import{BottomNavigation}from'@material-ui/core';function App(){var api=\"https://cat-fact.herokuapp.com/facts\";//state to hold the random fact \nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),fact=_useState2[0],setFact=_useState2[1];//state to hold the random number for fact \nvar _useState3=useState(\"5\"),_useState4=_slicedToArray(_useState3,2),randomNumber=_useState4[0],setRandomNumber=_useState4[1];//when to get a new fact \nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),updateFact=_useState6[0],setUpdateFact=_useState6[1];useEffect(function(){function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$fetchData,_yield$fetchData2,fetchedData,randomNumber;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchData();case 2:_yield$fetchData=_context.sent;_yield$fetchData2=_slicedToArray(_yield$fetchData,2);fetchedData=_yield$fetchData2[0];randomNumber=_yield$fetchData2[1];setRandomNumber(randomNumber);setFact(fetchedData[randomNumber].text);case 8:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}getData();},[updateFact]);function fetchData(){return _fetchData.apply(this,arguments);}//get a random cat image\n// image=\"https://img.webmd.com/dtmcms/live/webmd/consumer_assets/site_images/article_thumbnails/other/cat_relaxing_on_patio_other/1800x1200_cat_relaxing_on_patio_other.jpg\"\nfunction _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$get,fetchedData,numberOfFacts,_randomNumber;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(api);case 3:_yield$axios$get=_context2.sent;fetchedData=_yield$axios$get.data.all;numberOfFacts=fetchedData.length;_randomNumber=Math.floor(Math.random()*numberOfFacts)+1;return _context2.abrupt(\"return\",[fetchedData,_randomNumber]);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return _fetchData.apply(this,arguments);}function getCatFact(){setUpdateFact(Math.random());}return/*#__PURE__*/React.createElement(\"div\",{className:styles.app},/*#__PURE__*/React.createElement(BlogCard,{xs:12,className:styles.card,text:fact,getCatFact:getCatFact,image:\"https://images.unsplash.com/photo-1526336024174-e58f5cdd8e13?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\"}),/*#__PURE__*/React.createElement(Footer,null));};export default App;","map":{"version":3,"sources":["/Users/dea/Code/Projects/react_catfacts/src/App.js"],"names":["React","useState","useEffect","axios","BlogCard","styles","Footer","BottomNavigation","App","api","fact","setFact","randomNumber","setRandomNumber","updateFact","setUpdateFact","getData","fetchData","fetchedData","text","get","data","all","numberOfFacts","length","Math","floor","random","console","log","getCatFact","app","card"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,gBAAT,KAAiC,mBAAjC,CAGA,QAASC,CAAAA,GAAT,EAAe,CAEb,GAAMC,CAAAA,GAAG,CAAI,sCAAb,CAEA;AAJa,cAKWR,QAAQ,CAAC,EAAD,CALnB,wCAKNS,IALM,eAKAC,OALA,eAMb;AANa,eAO2BV,QAAQ,CAAC,GAAD,CAPnC,yCAONW,YAPM,eAOQC,eAPR,eAQb;AARa,eASuBZ,QAAQ,CAAC,CAAD,CAT/B,yCASNa,UATM,eASMC,aATN,eAWbb,SAAS,CAAC,UAAM,SACCc,CAAAA,OADD,+HACd,yNAC4CC,CAAAA,SAAS,EADrD,4FACSC,WADT,sBACsBN,YADtB,sBAEEC,eAAe,CAACD,YAAD,CAAf,CACAD,OAAO,CAACO,WAAW,CAACN,YAAD,CAAX,CAA0BO,IAA3B,CAAP,CAHF,sDADc,0CAMdH,OAAO,GACN,CAPM,CAOJ,CAACF,UAAD,CAPI,CAAT,CAXa,QAoBEG,CAAAA,SApBF,4CA+Bb;AACA;AAhCa,yFAoBb,6OAE6Cd,CAAAA,KAAK,CAACiB,GAAN,CAAUX,GAAV,CAF7C,wCAEuBS,WAFvB,kBAEWG,IAFX,CAEkBC,GAFlB,CAGUC,aAHV,CAG0BL,WAAW,CAACM,MAHtC,CAIUZ,aAJV,CAIyBa,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBJ,aAA3B,EAA4C,CAJrE,kCAKW,CAACL,WAAD,CAAcN,aAAd,CALX,+DAOIgB,OAAO,CAACC,GAAR,eAPJ,uEApBa,4CAmCb,QAASC,CAAAA,UAAT,EAAqB,CACnBf,aAAa,CAACU,IAAI,CAACE,MAAL,EAAD,CAAb,CACD,CAED,mBACE,2BAAK,SAAS,CAAEtB,MAAM,CAAC0B,GAAvB,eACE,oBAAC,QAAD,EAAU,EAAE,CAAE,EAAd,CAAkB,SAAS,CAAE1B,MAAM,CAAC2B,IAApC,CACA,IAAI,CAAEtB,IADN,CAEA,UAAU,CAAEoB,UAFZ,CAGA,KAAK,CAAC,uIAHN,EADF,cAME,oBAAC,MAAD,MANF,CADF,CAUD,EAED,cAAetB,CAAAA,GAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport BlogCard from \"./Components/BlogCard\";\nimport styles from \"./App.module.css\";\nimport Footer from \"./Components/Footer\"\nimport { BottomNavigation } from '@material-ui/core';\n\n\nfunction App() {\n\n  const api =  \"https://cat-fact.herokuapp.com/facts\"\n\n  //state to hold the random fact \n  const [fact, setFact] = useState(\"\");\n  //state to hold the random number for fact \n  const [randomNumber, setRandomNumber] = useState(\"5\");\n  //when to get a new fact \n  const [updateFact, setUpdateFact] = useState(0);\n\n  useEffect(() => {\n    async function getData() {\n      const [fetchedData, randomNumber] = await(fetchData());\n      setRandomNumber(randomNumber);\n      setFact(fetchedData[randomNumber].text)\n    }\n    getData();\n    }, [updateFact])\n\n  async function fetchData() {\n    try {\n      const {data: {all: fetchedData}} = await axios.get(api);\n      const numberOfFacts = fetchedData.length;\n      const randomNumber = Math.floor(Math.random() * numberOfFacts) + 1  \n      return [fetchedData, randomNumber];\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  //get a random cat image\n  // image=\"https://img.webmd.com/dtmcms/live/webmd/consumer_assets/site_images/article_thumbnails/other/cat_relaxing_on_patio_other/1800x1200_cat_relaxing_on_patio_other.jpg\"\n\n\n  function getCatFact(){\n    setUpdateFact(Math.random())\n  }\n\n  return( \n    <div className={styles.app} >\n      <BlogCard xs={12} className={styles.card}\n      text={fact}\n      getCatFact={getCatFact}\n      image=\"https://images.unsplash.com/photo-1526336024174-e58f5cdd8e13?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\"\n      />\n      <Footer />\n    </div>\n  )\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}